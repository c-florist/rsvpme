---
import AppLayout from "~/layouts/AppLayout.astro";
import { GET as authGet } from "~/pages/api/auth";

const response = await authGet(Astro);
if (response.status === 200) {
  Astro.redirect("/");
} else {
  throw new Error("Failed to authenticate user");
}
---

<AppLayout title="Welcome">
  <div class="flex min-h-screen items-center justify-center">
    <div class="text-center">
      <div class="mb-8">
        <div class="mx-auto h-12 w-12 animate-spin rounded-full border-4 border-gray-300 border-t-blue-600"></div>
      </div>

      <h1 class="mb-4 text-2xl font-semibold text-gray-900">
        Welcome to rsvpme! ðŸŽ‰
      </h1>

      <p class="text-gray-600">
        Getting things ready for you...
      </p>
    </div>
  </div>
</AppLayout>
